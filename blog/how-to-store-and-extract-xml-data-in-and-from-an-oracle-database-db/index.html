
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Store and Extract XML Data In and From an Oracle DataBase (DB) - Alessandro Lacava</title>
  <meta name="author" content="Alessandro Lacava">

  
  <meta name="description" content="Here are some snippets of code showing how to accomplish this: 1
CREATE TABLE SampleTable (id number primary key, person XMLType) This first example &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.alessandrolacava.com/blog/how-to-store-and-extract-xml-data-in-and-from-an-oracle-database-db">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Alessandro Lacava" type="application/atom+xml">
  <link href="/stylesheets/table.css" media="screen, projection" rel="stylesheet" type="text/css"/>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/images/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="manifest" href="/images/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-348808-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Alessandro Lacava</a></h1>
  
    <h2>on Designing and Developing Software. In love with Functional Programming.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.alessandrolacava.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/articles">Articles</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Store and Extract XML Data In and From an Oracle DataBase (DB)</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2006-06-08T17:05:27+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2006</span></span> <span class='time'>5:05 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Here are some snippets of code showing how to accomplish this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">SampleTable</span> <span class="p">(</span><span class="n">id</span> <span class="nb">number</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span> <span class="n">person</span> <span class="n">XMLType</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This first example creates a table with only two columns: id and person. The first is the PK of the table and the second
is of XMLType type. The latter is going to contain our XML data.</p>

<p>Now let&rsquo;s insert one row in the table.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">SampleTable</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">XMLType</span><span class="p">(</span><span class="s1">&#39;XMLString&#39;</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure>


<p>Where you must replace <code>XMLString</code> with any string representing XML. For example, you can replace it with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;persons&gt;</span>
</span><span class='line'>  <span class="nt">&lt;person&gt;</span>
</span><span class='line'>    <span class="nt">&lt;surname&gt;</span>Lacava<span class="nt">&lt;/surname&gt;</span>
</span><span class='line'>    <span class="nt">&lt;name&gt;</span>Alessandro<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>    <span class="nt">&lt;date_OF_BIRTH</span> <span class="na">DAY=</span><span class="s">&quot;31&quot;</span> <span class="na">MONTH=</span><span class="s">&quot;01&quot;</span> <span class="na">YEAR=</span><span class="s">&quot;1976&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/person&gt;</span>
</span><span class='line'><span class="nt">&lt;/persons&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>I decided to decode the date of birth that way in order to show you (in the next example) how to retrieve, apart from a
common XML node, an attribute as well.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="n">extractValue</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="s1">&#39;/PERSONS/PERSON/SURNAME&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">surname</span><span class="p">,</span>
</span><span class='line'>  <span class="n">extractValue</span><span class="p">(</span><span class="n">person</span><span class="p">,</span> <span class="s1">&#39;/PERSONS/PERSON/DATE_OF_BIRTH/@YEAR&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">year_of_birth</span>
</span><span class='line'><span class="k">FROM</span> <span class="n">SampleTable</span>
</span></code></pre></td></tr></table></div></figure>


<p>This last example extracts the surname and the year of birth from the XML data represented by the person column
that is of XMLType type. As you can see to extract the XML data you use regular XPath expressions.</p>

<p>Note: If your XML is using a namespace you will have to indicate it using the following syntax:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="n">extractValue</span><span class="p">(</span><span class="k">column_name</span><span class="p">,</span> <span class="n">XPath_Expression</span><span class="p">,</span> <span class="s1">&#39;xmlns=&quot;namespace_URI&quot;&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>where <code>XPath_Expression</code> is the XPath expression used to extract the value you&rsquo;re interested in and <code>namespace_URI</code> is
the URI indicating your namespace.</p>

<p>One last note: You can use XML Data inside an Oracle DB from version 9.0.2 on.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">admin</span></span>

      




<time class='entry-date' datetime='2006-06-08T17:05:27+02:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2006</span></span> <span class='time'>5:05 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/it/'>it</a>, <a class='category' href='/blog/categories/oracle/'>oracle</a>, <a class='category' href='/blog/categories/programming/'>programming</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.alessandrolacava.com/blog/how-to-store-and-extract-xml-data-in-and-from-an-oracle-database-db/" data-via="lambdista" data-counturl="http://www.alessandrolacava.com/blog/how-to-store-and-extract-xml-data-in-and-from-an-oracle-database-db/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/using-javascript-to-detect-the-key-pressed/" title="Previous Post: Using Javascript to detect the key pressed">&laquo; Using Javascript to detect the key pressed</a>
      
      
        <a class="basic-alignment right" href="/blog/the-function-class-in-javascript/" title="Next Post: The Function class in JavaScript">The Function class in JavaScript &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/scala-case-classes-in-depth/">Scala Case Classes In Depth</a>
      </li>
    
      <li class="post">
        <a href="/blog/scala-self-recursive-types/">Scala&#8217;s Self-recursive Types</a>
      </li>
    
      <li class="post">
        <a href="/blog/introduction-to-internal-dsls-in-scala/">Introduction to Internal DSLs In Scala</a>
      </li>
    
      <li class="post">
        <a href="/blog/introduction-to-functional-programming-in-scala/">Introduction to Functional Programming In Scala</a>
      </li>
    
      <li class="post">
        <a href="/blog/scala-dsl-for-currency-related-operations/">Scala DSL for Currency-related Operations</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/lambdista">@lambdista</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'lambdista',
            count: 0,
            skip_forks: true,
	    skip_repos: [ "lambdista.github.io" ],
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Alessandro Lacava -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
